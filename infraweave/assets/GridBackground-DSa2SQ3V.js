import{j as z}from"./vendor-ui-DDe0YJcq.js";import{r as g}from"./vendor-react-Dm5yKVFn.js";const W=()=>{const S=g.useRef(null),M=g.useRef({x:-1e3,y:-1e3}),y=g.useRef([]),w=g.useRef([]),L=g.useRef(0),P=g.useRef(null),C=g.useRef(0),[A,T]=g.useState(!1);return g.useEffect(()=>{const i=requestIdleCallback?requestIdleCallback(()=>T(!0),{timeout:100}):setTimeout(()=>T(!0),50);return()=>{requestIdleCallback&&typeof i=="number"?cancelIdleCallback(i):clearTimeout(i)}},[]),g.useEffect(()=>{if(!A)return;const i=S.current;if(!i)return;const o=i.getContext("2d",{alpha:!0});if(!o)return;let x;const k=1e3/30,c={blue:{r:31,g:60,b:136},teal:{r:0,g:180,b:216},green:{r:31,g:80,b:156}},p=80,R=120,m=200,$=()=>{requestAnimationFrame(()=>{P.current=i.getBoundingClientRect()})},v=()=>{const a=window.innerWidth,r=window.innerHeight;i.width=a,i.height=r,$(),X()},G=(a,r,l,n)=>{const h=(a/l+r/n)/2;let e,t,d;if(h<.5){const s=h*2;e=c.blue.r+(c.teal.r-c.blue.r)*s,t=c.blue.g+(c.teal.g-c.blue.g)*s,d=c.blue.b+(c.teal.b-c.blue.b)*s}else{const s=(h-.5)*2;e=c.teal.r+(c.green.r-c.teal.r)*s,t=c.teal.g+(c.green.g-c.teal.g)*s,d=c.teal.b+(c.green.b-c.teal.b)*s}return{r:Math.round(e),g:Math.round(t),b:Math.round(d)}},X=()=>{y.current=[],w.current=[];for(let a=p/2;a<i.width+p;a+=p)for(let r=p/2;r<i.height+p;r+=p)y.current.push({x:a,y:r,radius:2+Math.random()*1.5,pulsePhase:Math.random()*Math.PI*2,pulseSpeed:.01+Math.random()*.02,color:G(a,r,i.width,i.height)})},Y=()=>{const a=y.current;if(a.length<2)return;const r=a[Math.floor(Math.random()*a.length)],l=a.filter(h=>{const e=h.x-r.x,t=h.y-r.y,d=Math.sqrt(e*e+t*t);return d>0&&d<R*2});if(l.length===0)return;const n=l[Math.floor(Math.random()*l.length)];w.current.push({startX:r.x,startY:r.y,endX:n.x,endY:n.y,progress:0,speed:.006+Math.random()*.01,color:r.color})},N=a=>{const r=P.current;r&&(M.current={x:a.clientX-r.left,y:a.clientY-r.top})},q=()=>{M.current={x:-1e3,y:-1e3}},E=a=>{const r=a-C.current;if(r<k){x=requestAnimationFrame(E);return}C.current=a-r%k,o.clearRect(0,0,i.width,i.height),L.current+=1;const l=M.current,n=y.current,h=w.current;Math.random()<.04&&Y(),o.lineWidth=.5;for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++){const d=n[e].x-n[t].x,s=n[e].y-n[t].y,u=Math.sqrt(d*d+s*s);if(u<R){const b=(n[e].x+n[t].x)/2,f=(n[e].y+n[t].y)/2,F=Math.sqrt(Math.pow(l.x-b,2)+Math.pow(l.y-f,2)),_=F<m?1-F/m:0,D=(1-u/R)*.08+_*.15,I=n[e].color;o.strokeStyle=`rgba(${I.r}, ${I.g}, ${I.b}, ${D})`,o.beginPath(),o.moveTo(n[e].x,n[t].y),o.lineTo(n[t].x,n[t].y),o.stroke()}}for(let e=h.length-1;e>=0;e--){const t=h[e];if(t.progress+=t.speed,t.progress>=1){h.splice(e,1);continue}const d=t.progress<.5?2*t.progress*t.progress:1-Math.pow(-2*t.progress+2,2)/2,s=t.startX+(t.endX-t.startX)*d,u=t.startY+(t.endY-t.startY)*d,b=Math.sin(t.progress*Math.PI)*.8,f=o.createRadialGradient(s,u,0,s,u,12);f.addColorStop(0,`rgba(${t.color.r}, ${t.color.g}, ${t.color.b}, ${b*.4})`),f.addColorStop(1,`rgba(${t.color.r}, ${t.color.g}, ${t.color.b}, 0)`),o.fillStyle=f,o.beginPath(),o.arc(s,u,12,0,Math.PI*2),o.fill(),o.fillStyle=`rgba(${t.color.r}, ${t.color.g}, ${t.color.b}, ${b})`,o.beginPath(),o.arc(s,u,3,0,Math.PI*2),o.fill()}for(const e of n){e.pulsePhase+=e.pulseSpeed;const t=Math.sin(e.pulsePhase)*.5+.5,d=Math.sqrt(Math.pow(l.x-e.x,2)+Math.pow(l.y-e.y,2)),s=d<m?1-d/m:0,u=e.radius+t*.5+s*2,b=.2+t*.15+s*.4;if(s>.1){const f=o.createRadialGradient(e.x,e.y,0,e.x,e.y,u*4);f.addColorStop(0,`rgba(${e.color.r}, ${e.color.g}, ${e.color.b}, ${s*.2})`),f.addColorStop(1,`rgba(${e.color.r}, ${e.color.g}, ${e.color.b}, 0)`),o.fillStyle=f,o.beginPath(),o.arc(e.x,e.y,u*4,0,Math.PI*2),o.fill()}o.beginPath(),o.arc(e.x,e.y,u,0,Math.PI*2),o.fillStyle=`rgba(${e.color.r}, ${e.color.g}, ${e.color.b}, ${b})`,o.fill()}if(l.x>0&&l.y>0){const e=o.createRadialGradient(l.x,l.y,0,l.x,l.y,m);e.addColorStop(0,"rgba(31, 60, 136, 0.04)"),e.addColorStop(.5,"rgba(0, 180, 216, 0.02)"),e.addColorStop(1,"rgba(31, 60, 136, 0)"),o.fillStyle=e,o.beginPath(),o.arc(l.x,l.y,m,0,Math.PI*2),o.fill()}x=requestAnimationFrame(E)};return v(),window.addEventListener("resize",v),window.addEventListener("scroll",$,{passive:!0}),window.addEventListener("mousemove",N,{passive:!0}),window.addEventListener("mouseleave",q),x=requestAnimationFrame(E),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",$),window.removeEventListener("mousemove",N),window.removeEventListener("mouseleave",q),cancelAnimationFrame(x)}},[A]),z.jsx("canvas",{ref:S,className:"fixed inset-0 z-0",style:{opacity:.35,willChange:"transform",contain:"strict"}})};export{W as G};
