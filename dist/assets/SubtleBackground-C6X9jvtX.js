import{j as z}from"./vendor-ui--gC2EbFs.js";import{r}from"./vendor-react-BKlpBF4k.js";const T=()=>{const d=r.useRef(null),a=r.useRef([]),o=r.useRef(0),u=r.useRef(0),[f,m]=r.useState(!1);return r.useEffect(()=>{const t=typeof window<"u"&&"requestIdleCallback"in window;let n;return t?n=window.requestIdleCallback(()=>m(!0),{timeout:100}):n=window.setTimeout(()=>m(!0),50),()=>{t?window.cancelIdleCallback(n):window.clearTimeout(n)}},[]),r.useEffect(()=>{if(!f)return;const t=d.current;if(!t)return;const n=t.getContext("2d",{alpha:!0});if(!n)return;const h=1e3/30,R=35,w=["rgba(31, 60, 136, 0.12)","rgba(0, 180, 216, 0.08)","rgba(31, 80, 156, 0.10)"],s=()=>{t.width=window.innerWidth,t.height=document.documentElement.scrollHeight,g()},g=()=>{a.current=[];for(let i=0;i<R;i++)a.current.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*.15,vy:(Math.random()-.5)*.1,size:Math.random()*180+80,opacity:Math.random()*.4+.1,color:w[Math.floor(Math.random()*w.length)]})},c=i=>{const x=i-u.current;if(x<h){o.current=requestAnimationFrame(c);return}u.current=i-x%h,n.clearRect(0,0,t.width,t.height);const p=a.current;for(const e of p){e.x+=e.vx,e.y+=e.vy,e.x<-e.size&&(e.x=t.width+e.size),e.x>t.width+e.size&&(e.x=-e.size),e.y<-e.size&&(e.y=t.height+e.size),e.y>t.height+e.size&&(e.y=-e.size);const l=n.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);l.addColorStop(0,e.color),l.addColorStop(1,"rgba(0, 0, 0, 0)"),n.fillStyle=l,n.beginPath(),n.arc(e.x,e.y,e.size,0,Math.PI*2),n.fill()}o.current=requestAnimationFrame(c)};s(),window.addEventListener("resize",s),o.current=requestAnimationFrame(c);const y=new ResizeObserver(()=>{t.height=document.documentElement.scrollHeight});return y.observe(document.body),()=>{window.removeEventListener("resize",s),cancelAnimationFrame(o.current),y.disconnect()}},[f]),z.jsx("canvas",{ref:d,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:.6,willChange:"transform",contain:"layout paint"}})};export{T as S};
